<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">
  <link rel="alternate" href="/atom.xml" title="Anna X" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="config the npm file.This project uses npm config for configuration. I need to create config&#x2F;local.json5 file to override the configuration as necessary, especially to define githubTokens. After workin">
<meta name="keywords" content="npm,couchDB,rabbitMQ,Elasticsearch">
<meta property="og:type" content="article">
<meta property="og:title" content="npm analyzer project: part 5">
<meta property="og:url" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;index.html">
<meta property="og:site_name" content="Anna X">
<meta property="og:description" content="config the npm file.This project uses npm config for configuration. I need to create config&#x2F;local.json5 file to override the configuration as necessary, especially to define githubTokens. After workin">
<meta property="og:locale" content="en">
<meta property="og:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;login.png">
<meta property="og:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;database.png">
<meta property="og:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;activetask.png">
<meta property="og:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;verify.png">
<meta property="og:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;rabbitmq.png">
<meta property="og:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;elastic2.png">
<meta property="og:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;elastic1.png">
<meta property="og:updated_time" content="2020-06-03T22:08:53.980Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;vmnet8.github.io&#x2F;2019&#x2F;11&#x2F;07&#x2F;npm-analyzer-project-part-5&#x2F;login.png">
  <link rel="canonical" href="https://vmnet8.github.io/2019/11/07/npm-analyzer-project-part-5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>npm analyzer project: part 5 | Anna X</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Anna X</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Anna's Tech Blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    
      
      
        
      
        
      
        
          
        
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">19</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    
      
      
        
          
        
      
        
      
        
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives<span class="badge">49</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" target="_blank" rel="noopener" class="popup-trigger">
        
          <i class="fa fa-search fa-fw"></i>Search</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://vmnet8.github.io/2019/11/07/npm-analyzer-project-part-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anna X">
      <meta itemprop="description" content="Happy coding ...">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/34552097">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anna X">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">npm analyzer project: part 5

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-11-07 12:28:26" itemprop="dateCreated datePublished" datetime="2019-11-07T12:28:26-08:00">2019-11-07</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-03 15:08:53" itemprop="dateModified" datetime="2020-06-03T15:08:53-07:00">2020-06-03</time>
              </span>
            
          

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/11/07/npm-analyzer-project-part-5/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/11/07/npm-analyzer-project-part-5/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="config-the-npm-file"><a href="#config-the-npm-file" class="headerlink" title="config the npm file."></a>config the npm file.</h2><p>This project uses npm config for configuration. I need to create config/local.json5 file to override the configuration as necessary, especially to define githubTokens. After working a lot, I found I need to clone the npm-analyzer repo actuallya. I do not know whether the work before is worthable if I already clone the whole repo.</p>
<h4 id="clone-the-github-npm-analyzer"><a href="#clone-the-github-npm-analyzer" class="headerlink" title="clone the github npm-analyzer"></a>clone the github npm-analyzer</h4><p>under my npm_analyzer dirctory, clone the repo to my local machine.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/npms-io/npms-analyzer.git</span><br></pre></td></tr></table></figure>
<h4 id="copy-the-default-json-file-to-create-my-own-local-json5-file"><a href="#copy-the-default-json-file-to-create-my-own-local-json5-file" class="headerlink" title="copy the default.json file to create my own local.json5 file"></a>copy the default.json file to create my own local.json5 file</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp default.json local.json5</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vagrant@cli:~/npm_analyzer/npms-analyzer/config$ ls -al</span><br><span class="line">total 24</span><br><span class="line">drwxr-xr-x 4 vagrant vagrant 4096 Nov  7 07:19 .</span><br><span class="line">drwxr-xr-x 9 vagrant vagrant 4096 Nov  7 05:38 ..</span><br><span class="line">drwxr-xr-x 2 vagrant vagrant 4096 Nov  7 05:31 couchdb</span><br><span class="line">-rw-r--r-- 1 vagrant vagrant 1187 Nov  7 05:31 default.json5</span><br><span class="line">drwxr-xr-x 2 vagrant vagrant 4096 Nov  7 05:31 elasticsearch</span><br><span class="line">-rw-r--r-- 1 vagrant vagrant  116 Nov  7 05:47 local.json5</span><br></pre></td></tr></table></figure>
<h4 id="create-my-githubtoken-write-it-to-local-json5-file"><a href="#create-my-githubtoken-write-it-to-local-json5-file" class="headerlink" title="create my githubtoken, write it to local.json5 file"></a>create my githubtoken, write it to local.json5 file</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // Github tokens to be used by token-dealer</span><br><span class="line">    githubTokens: [&apos;227dc6ab8270d13f5ac2134c466&apos;],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="check-default-json-file"><a href="#check-default-json-file" class="headerlink" title="check default.json file"></a>check default.json file</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // Databases &amp; similar stuff</span><br><span class="line">    couchdbNpm: &#123;</span><br><span class="line">        url: &apos;http://admin:admin@127.0.0.1:5984/npm&apos;,</span><br><span class="line">        requestDefaults: &#123; timeout: 15000 &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    couchdbNpms: &#123;</span><br><span class="line">        url: &apos;http://admin:admin@127.0.0.1:5984/npms&apos;,</span><br><span class="line">        requestDefaults: &#123; timeout: 15000 &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    elasticsearch: &#123;</span><br><span class="line">        host: &apos;http://127.0.0.1:9200&apos;,</span><br><span class="line">        requestTimeout: 15000,</span><br><span class="line">        apiVersion: &apos;6.3&apos;,</span><br><span class="line">        log: null,</span><br><span class="line">    &#125;,</span><br><span class="line">    queue: &#123;</span><br><span class="line">        name: &apos;npms&apos;,</span><br><span class="line">        addr: &apos;amqp://guest:guest@127.0.0.1&apos;,</span><br><span class="line">        options: &#123; maxPriority: 1 &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // List of packages that will be ignored by the CLI consume command (analysis process)</span><br><span class="line">    blacklist: &#123;</span><br><span class="line">        &apos;hownpm&apos;: &apos;Invalid version: 1.01&apos;,</span><br><span class="line">        &apos;zachtestproject1&apos;: &apos;Test project that makes registry return 500 internal&apos;,</span><br><span class="line">        &apos;zachtestproject2&apos;: &apos;Test project that makes registry return 500 internal&apos;,</span><br><span class="line">        &apos;zachtestproject3&apos;: &apos;Test project that makes registry return 500 internal&apos;,</span><br><span class="line">        &apos;zachtestproject4&apos;: &apos;Test project that makes registry return 500 internal&apos;,</span><br><span class="line">        &apos;broken-package-truncated-tar-header&apos;: &apos;Broken tarball&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // Github tokens to be used by token-dealer</span><br><span class="line">    githubTokens: [],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>after checking default.json file, I found there are two databases, one is couchdbNpms which is for queue, and another one is couchdbNpm which is for replication from <a href="https://replicate.npmjs.com/registry" target="_blank" rel="noopener">https://replicate.npmjs.com/registry</a>. I only created npms, so I need to go back couchdb to create npm database and redo the replication work. It takes long time to replication the couchdb and also shows “error” for replication funtion on couchdb website.</p>
<a id="more"></a>
<p>Note:<br>Since I am working my project on cloud, I need to use ssh tunnel to log in http website to work on couchdb and rabbitmq and elasticsearch.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh -L localhost:5984:localhost:5984 ubuntu@ipaddress   # open couchdb</span><br><span class="line">ssh -L localhost:8080:localhost:15672 ubuntu@ipaddress  # open rabbitMQ</span><br><span class="line">ssh -L localhost:9100:localhost:9100 ubuntu@ipaddress   # open elasticsearch</span><br><span class="line">ssh -L localhost:9200:localhost:9200 ubuntu@ipaddress   # open elasticsearch</span><br></pre></td></tr></table></figure>
<p>after tunnel, it will show like this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">anna@ubuntu1804:~/anna_tech_blog/newblog/source/_posts$ ssh -L localhost:8080:localhost:15672 ubuntu@ip address</span><br><span class="line">Welcome to Ubuntu 18.04.3 LTS (GNU/Linux 4.15.0-1026-oracle x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com</span><br><span class="line"> * Management:     https://landscape.canonical.com</span><br><span class="line"> * Support:        https://ubuntu.com/advantage</span><br><span class="line"></span><br><span class="line"> System information disabled due to load higher than 2.0</span><br><span class="line"></span><br><span class="line"> * Kata Containers are now fully integrated in Charmed Kubernetes 1.16!</span><br><span class="line">   Yes, charms take the Krazy out of K8s Kata Kluster Konstruction.</span><br><span class="line"></span><br><span class="line">     https://ubuntu.com/kubernetes/docs/release-notes</span><br><span class="line"></span><br><span class="line"> * Canonical Livepatch is available for installation.</span><br><span class="line">   - Reduce system reboots and improve kernel security. Activate at:</span><br><span class="line">     https://ubuntu.com/livepatch</span><br><span class="line"></span><br><span class="line">55 packages can be updated.</span><br><span class="line">0 updates are security updates.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*** System restart required ***</span><br><span class="line">Last login: Tue Nov 19 19:47:26 2019 from ip address</span><br></pre></td></tr></table></figure>
<p>login </p>
<img src="/2019/11/07/npm-analyzer-project-part-5/login.png" class="">

<p>database</p>
<img src="/2019/11/07/npm-analyzer-project-part-5/database.png" class="">

<p>active task</p>
<img src="/2019/11/07/npm-analyzer-project-part-5/activetask.png" class="">

<p>There are something wrong with replication, so the verification shows error</p>
<img src="/2019/11/07/npm-analyzer-project-part-5/verify.png" class="">

<p>then login the rabbtMQ</p>
<img src="/2019/11/07/npm-analyzer-project-part-5/rabbitmq.png" class="">

<p>login the elasticsearch</p>
<img src="/2019/11/07/npm-analyzer-project-part-5/elastic2.png" class="">
<img src="/2019/11/07/npm-analyzer-project-part-5/elastic1.png" class="">

<h2 id="npms-analyzer-observe"><a href="#npms-analyzer-observe" class="headerlink" title="npms-analyzer observe"></a>npms-analyzer observe</h2><p>The observe command starts observing changes that occur in the npm registry as well as packages that were not analyzed for a while. Each reported package will be pushed into a queue to be processed by the queue consumers.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">vagrant@cli:~/npm_analyzer/npms-analyzer$ ./cli.js observe --log-level debug | pino-pretty</span><br><span class="line">[1574225327914] INFO  (npms-analyzer/31902 on cli): RabbitMQ connect and setup done successfully</span><br><span class="line">    module: &quot;queue&quot;</span><br><span class="line">[1574225327942] DEBUG (npms-analyzer/31902 on cli): Queue is ready</span><br><span class="line">    module: &quot;bootstrap&quot;</span><br><span class="line">[1574225334791] DEBUG (npms-analyzer/31902 on cli): CouchDB for npm is ready</span><br><span class="line">    module: &quot;bootstrap&quot;</span><br><span class="line">[1574225338107] DEBUG (npms-analyzer/31902 on cli): CouchDB for npms is ready</span><br><span class="line">    module: &quot;bootstrap&quot;</span><br><span class="line">[1574225338118] INFO  (npms-analyzer/31902 on cli): Starting realtime observer..</span><br><span class="line">    module: &quot;observer/realtime&quot;</span><br><span class="line">[1574225338135] INFO  (npms-analyzer/31902 on cli): Starting stale observer..</span><br><span class="line">    module: &quot;observer/stale&quot;</span><br><span class="line">[1574225338149] DEBUG (npms-analyzer/31902 on cli): Looking for stale packages (failed)..</span><br><span class="line">    module: &quot;observer/stale&quot;</span><br><span class="line">[1574225343426] INFO  (npms-analyzer/31902 on cli): Will now start to follow changes since 513900-g1AAAAI7eJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjMlMiTJ____PyuDOYmBkXF9LlCM3TIl2STV0hJdPQ4TkhSAZJI9zBCGf0vBhhgZWSaZJqUQa4gDyJB4uCF_2cGGmKQYmlkYGBNrSALIkHq4Ib-yIS4xNDVKtTQk0pA8FiDJ0ACkgObMhxj04zzENYamppbmpBm0AGLQfqhBjWCDDI3MjC1NzEky6ADEoPtQgy6CDTI2ME5MMTMgyaAHEIOgYfS1FWyQuYlpqqFZIrq2LAD-NLFU</span><br><span class="line">    module: &quot;observer/realtime&quot;</span><br><span class="line">    since: &quot;513900-g1AAAAI7eJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjMlMiTJ____PyuDOYmBkXF9LlCM3TIl2STV0hJdPQ4TkhSAZJI9zBCGf0vBhhgZWSaZJqUQa4gDyJB4uCF_2cGGmKQYmlkYGBNrSALIkHq4Ib-yIS4xNDVKtTQk0pA8FiDJ0ACkgObMhxj04zzENYamppbmpBm0AGLQfqhBjWCDDI3MjC1NzEky6ADEoPtQgy6CDTI2ME5MMTMgyaAHEIOgYfS1FWyQuYlpqqFZIrq2LAD-NLFU&quot;</span><br><span class="line">[1574225348422] DEBUG (npms-analyzer/31902 on cli): Flushing changes buffer with a total of 250 changes..</span><br><span class="line">    module: &quot;observer/realtime&quot;</span><br><span class="line">[1574225353118] INFO  (npms-analyzer/31902 on cli): pid: 31902; memory: 24.00 MB; uptime: 51 seconds</span><br><span class="line">    module: &quot;stats/process&quot;</span><br><span class="line">[1574225353213] ERROR (npms-analyzer/31902 on cli): Stale observer failed when notifying stale packages (failed)</span><br><span class="line">    module: &quot;observer/stale&quot;</span><br><span class="line">    err: &#123;</span><br><span class="line">      &quot;type&quot;: &quot;Error&quot;,</span><br><span class="line">      &quot;message&quot;: &quot;error happened in your connection&quot;,</span><br><span class="line">      &quot;stack&quot;:</span><br><span class="line">          Error: error happened in your connection</span><br><span class="line">              at ClientRequest.&lt;anonymous&gt; (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/request/request.js:816:19)</span><br><span class="line">              at Object.onceWrapper (events.js:286:20)</span><br><span class="line">              at ClientRequest.emit (events.js:198:13)</span><br><span class="line">              at Socket.emitRequestTimeout (_http_client.js:662:40)</span><br><span class="line">              at Object.onceWrapper (events.js:286:20)</span><br><span class="line">              at Socket.emit (events.js:198:13)</span><br><span class="line">              at Socket._onTimeout (net.js:442:8)</span><br><span class="line">              at ontimeout (timers.js:436:11)</span><br><span class="line">              at tryOnTimeout (timers.js:300:5)</span><br><span class="line">              at listOnTimeout (timers.js:263:5)</span><br><span class="line">              at Timer.processTimers (timers.js:223:10)</span><br><span class="line">          From previous event:</span><br><span class="line">              at RowsReaderStream._queryFn (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/couchdb-iterator/index.js:48:16)</span><br><span class="line">              at RowsReaderStream._read (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/couchdb-iterator/lib/rowsReader.js:23:14)</span><br><span class="line">              at RowsReaderStream.Readable.read (_stream_readable.js:470:10)</span><br><span class="line">              at resume_ (_stream_readable.js:949:12)</span><br><span class="line">              at process._tickCallback (internal/process/next_tick.js:63:19)</span><br><span class="line">      &quot;name&quot;: &quot;Error&quot;,</span><br><span class="line">      &quot;scope&quot;: &quot;socket&quot;,</span><br><span class="line">      &quot;errid&quot;: &quot;request&quot;,</span><br><span class="line">      &quot;code&quot;: &quot;ESOCKETTIMEDOUT&quot;,</span><br><span class="line">      &quot;connect&quot;: false,</span><br><span class="line">      &quot;description&quot;: &quot;ESOCKETTIMEDOUT&quot;,</span><br><span class="line">      &quot;stacktrace&quot;: [</span><br><span class="line">        &quot;Error: ESOCKETTIMEDOUT&quot;,</span><br><span class="line">        &quot;    at ClientRequest.&lt;anonymous&gt; (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/request/request.js:816:19)&quot;,</span><br><span class="line">        &quot;    at Object.onceWrapper (events.js:286:20)&quot;,</span><br><span class="line">        &quot;    at ClientRequest.emit (events.js:198:13)&quot;,</span><br><span class="line">        &quot;    at Socket.emitRequestTimeout (_http_client.js:662:40)&quot;,</span><br><span class="line">        &quot;    at Object.onceWrapper (events.js:286:20)&quot;,</span><br><span class="line">        &quot;    at Socket.emit (events.js:198:13)&quot;,</span><br><span class="line">        &quot;    at Socket._onTimeout (net.js:442:8)&quot;,</span><br><span class="line">        &quot;    at ontimeout (timers.js:436:11)&quot;,</span><br><span class="line">        &quot;    at tryOnTimeout (timers.js:300:5)&quot;,</span><br><span class="line">        &quot;    at listOnTimeout (timers.js:263:5)&quot;,</span><br><span class="line">        &quot;    at Timer.processTimers (timers.js:223:10)&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">[1574225353248] DEBUG (npms-analyzer/31902 on cli): Looking for stale packages (normal)..</span><br><span class="line">    module: &quot;observer/stale&quot;</span><br><span class="line">[1574225353270] INFO  (npms-analyzer/31902 on cli): Queue stat</span><br><span class="line">    module: &quot;stats/queue&quot;</span><br><span class="line">    stat: &#123;</span><br><span class="line">      &quot;messageCount&quot;: 498961,</span><br><span class="line">      &quot;consumerCount&quot;: 0</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>it shows queue first successed, but failed after for some reason.</p>
<p>error message</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">[1574225383774] INFO  (npms-analyzer/31902 on cli): Starting realtime observer..</span><br><span class="line">    module: &quot;observer/realtime&quot;</span><br><span class="line">[1574225383786] ERROR (npms-analyzer/31902 on cli): Realtime observer failed, restarting in a few moments..</span><br><span class="line">    module: &quot;observer/realtime&quot;</span><br><span class="line">    err: &#123;</span><br><span class="line">      &quot;type&quot;: &quot;OperationalError&quot;,</span><br><span class="line">      &quot;message&quot;: &quot;error happened in your connection&quot;,</span><br><span class="line">      &quot;stack&quot;:</span><br><span class="line">          Error: error happened in your connection</span><br><span class="line">              at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)</span><br><span class="line">          From previous event:</span><br><span class="line">              at RealtimeObserver._fetchLastSeq (/home/vagrant/npm_analyzer/npms-analyzer/lib/observers/realtime.js:123:31)</span><br><span class="line">              at RealtimeObserver._start (/home/vagrant/npm_analyzer/npms-analyzer/lib/observers/realtime.js:79:14)</span><br><span class="line">              at Timeout._restartTimeout.setTimeout [as _onTimeout] (/home/vagrant/npm_analyzer/npms-analyzer/lib/observers/realtime.js:89:22)</span><br><span class="line">              at ontimeout (timers.js:436:11)</span><br><span class="line">              at tryOnTimeout (timers.js:300:5)</span><br><span class="line">              at listOnTimeout (timers.js:263:5)</span><br><span class="line">              at Timer.processTimers (timers.js:223:10)</span><br><span class="line">      &quot;cause&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;Error&quot;,</span><br><span class="line">        &quot;message&quot;: &quot;error happened in your connection&quot;,</span><br><span class="line">        &quot;stack&quot;:</span><br><span class="line">            Error: connect ECONNREFUSED 127.0.0.1:5984</span><br><span class="line">                at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)</span><br><span class="line">        &quot;name&quot;: &quot;Error&quot;,</span><br><span class="line">        &quot;scope&quot;: &quot;socket&quot;,</span><br><span class="line">        &quot;errid&quot;: &quot;request&quot;,</span><br><span class="line">        &quot;errno&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">        &quot;code&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">        &quot;syscall&quot;: &quot;connect&quot;,</span><br><span class="line">        &quot;address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">        &quot;port&quot;: 5984,</span><br><span class="line">        &quot;description&quot;: &quot;connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">        &quot;stacktrace&quot;: [</span><br><span class="line">          &quot;Error: connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">          &quot;    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)&quot;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;isOperational&quot;: true,</span><br><span class="line">      &quot;scope&quot;: &quot;socket&quot;,</span><br><span class="line">      &quot;errid&quot;: &quot;request&quot;,</span><br><span class="line">      &quot;errno&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">      &quot;code&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">      &quot;syscall&quot;: &quot;connect&quot;,</span><br><span class="line">      &quot;address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">      &quot;port&quot;: 5984,</span><br><span class="line">      &quot;description&quot;: &quot;connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">      &quot;stacktrace&quot;: [</span><br><span class="line">        &quot;Error: connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">        &quot;    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="npms-analyzer-consume"><a href="#npms-analyzer-consume" class="headerlink" title="npms-analyzer consume"></a>npms-analyzer consume</h2><p>The consume command starts consuming the queue, running the analysis process for each queued package.</p>
<p>Since the first step is failed, this step also failed.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">vagrant@cli:~/npm_analyzer/npms-analyzer$ ./cli.js consume --log-level debug --concurrency 5 | pino-pretty</span><br><span class="line">[1574225672854] WARN  (npms-analyzer/32491 on cli): Check of npm failed</span><br><span class="line">    module: &quot;bootstrap&quot;</span><br><span class="line">    err: &#123;</span><br><span class="line">      &quot;type&quot;: &quot;OperationalError&quot;,</span><br><span class="line">      &quot;message&quot;: &quot;error happened in your connection&quot;,</span><br><span class="line">      &quot;stack&quot;:</span><br><span class="line">          Error: error happened in your connection</span><br><span class="line">              at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)</span><br><span class="line">          From previous event:</span><br><span class="line">              at promiseRetry (/home/vagrant/npm_analyzer/npms-analyzer/cmd/util/bootstrap.js:68:20)</span><br><span class="line">              at /home/vagrant/npm_analyzer/npms-analyzer/node_modules/promise-retry/index.js:29:24</span><br><span class="line">              at runCallback (timers.js:705:18)</span><br><span class="line">              at tryOnImmediate (timers.js:676:5)</span><br><span class="line">              at processImmediate (timers.js:658:5)</span><br><span class="line">          From previous event:</span><br><span class="line">              at RetryOperation._fn (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/promise-retry/index.js:28:14)</span><br><span class="line">              at RetryOperation.attempt (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/retry/lib/retry_operation.js:97:8)</span><br><span class="line">              at /home/vagrant/npm_analyzer/npms-analyzer/node_modules/promise-retry/index.js:26:19</span><br><span class="line">          From previous event:</span><br><span class="line">              at promiseRetry (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/promise-retry/index.js:25:12)</span><br><span class="line">              at bootstrapCouchdb (/home/vagrant/npm_analyzer/npms-analyzer/cmd/util/bootstrap.js:67:12)</span><br><span class="line">              at Promise.map (/home/vagrant/npm_analyzer/npms-analyzer/cmd/util/bootstrap.js:37:20)</span><br><span class="line">              at runCallback (timers.js:705:18)</span><br><span class="line">              at tryOnImmediate (timers.js:676:5)</span><br><span class="line">              at processImmediate (timers.js:658:5)</span><br><span class="line">          From previous event:</span><br><span class="line">              at bootstrap (/home/vagrant/npm_analyzer/npms-analyzer/cmd/util/bootstrap.js:33:20)</span><br><span class="line">              at Object.exports.handler (/home/vagrant/npm_analyzer/npms-analyzer/cmd/consume.js:105:5)</span><br><span class="line">              at Object.runCommand (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/yargs/lib/command.js:238:44)</span><br><span class="line">              at Object.parseArgs [as _parseArgs] (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/yargs/yargs.js:1063:30)</span><br><span class="line">              at Object.get [as argv] (/home/vagrant/npm_analyzer/npms-analyzer/node_modules/yargs/yargs.js:1004:21)</span><br><span class="line">              at Object.&lt;anonymous&gt; (/home/vagrant/npm_analyzer/npms-analyzer/cli.js:32:1)</span><br><span class="line">              at Module._compile (internal/modules/cjs/loader.js:778:30)</span><br><span class="line">              at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)</span><br><span class="line">              at Module.load (internal/modules/cjs/loader.js:653:32)</span><br><span class="line">              at tryModuleLoad (internal/modules/cjs/loader.js:593:12)</span><br><span class="line">              at Function.Module._load (internal/modules/cjs/loader.js:585:3)</span><br><span class="line">              at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)</span><br><span class="line">              at startup (internal/bootstrap/node.js:283:19)</span><br><span class="line">              at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)</span><br><span class="line">      &quot;cause&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;Error&quot;,</span><br><span class="line">        &quot;message&quot;: &quot;error happened in your connection&quot;,</span><br><span class="line">        &quot;stack&quot;:</span><br><span class="line">            Error: connect ECONNREFUSED 127.0.0.1:5984</span><br><span class="line">                at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)</span><br><span class="line">        &quot;name&quot;: &quot;Error&quot;,</span><br><span class="line">        &quot;scope&quot;: &quot;socket&quot;,</span><br><span class="line">        &quot;errid&quot;: &quot;request&quot;,</span><br><span class="line">        &quot;errno&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">        &quot;code&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">        &quot;syscall&quot;: &quot;connect&quot;,</span><br><span class="line">        &quot;address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">        &quot;port&quot;: 5984,</span><br><span class="line">        &quot;description&quot;: &quot;connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">        &quot;stacktrace&quot;: [</span><br><span class="line">          &quot;Error: connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">          &quot;    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)&quot;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;isOperational&quot;: true,</span><br><span class="line">      &quot;scope&quot;: &quot;socket&quot;,</span><br><span class="line">      &quot;errid&quot;: &quot;request&quot;,</span><br><span class="line">      &quot;errno&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">      &quot;code&quot;: &quot;ECONNREFUSED&quot;,</span><br><span class="line">      &quot;syscall&quot;: &quot;connect&quot;,</span><br><span class="line">      &quot;address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">      &quot;port&quot;: 5984,</span><br><span class="line">      &quot;description&quot;: &quot;connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">      &quot;stacktrace&quot;: [</span><br><span class="line">        &quot;Error: connect ECONNREFUSED 127.0.0.1:5984&quot;,</span><br><span class="line">        &quot;    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="npms-analyzer-scoring"><a href="#npms-analyzer-scoring" class="headerlink" title="npms-analyzer scoring"></a>npms-analyzer scoring</h2><p>The scoring command, continuously iterates over the analysis results and calculates a score for all the npm packages, storing its result in elasticsearch.</p>
<p>I will try to run the last command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vagrant@cli:~/npm_analyzer/npms-analyzer$ ./cli.js scoring</span><br><span class="line">&#123;&quot;level&quot;:60,&quot;time&quot;:1574226093326,&quot;pid&quot;:803,&quot;hostname&quot;:&quot;cli&quot;,&quot;name&quot;:&quot;npms-analyzer&quot;,&quot;module&quot;:&quot;cli/scoring&quot;,&quot;err&quot;:&#123;&quot;msg&quot;:&quot;[mapper_parsing_exception] Root mapping definition has unsupported parameters:  [score : &#123;dynamic=false, _all=&#123;enabled=false&#125;, properties=&#123;evaluation=&#123;type=object, properties=&#123;popularity=&#123;type=object, properties=&#123;downloadsCount=&#123;index=false, type=double&#125;, dependentsCount=&#123;index=false, type=double&#125;, communityInterest=&#123;index=false, type=double&#125;, downloadsAcceleration=&#123;index=false, type=double&#125;&#125;&#125;, maintenance=&#123;type=object, properties=&#123;releasesFrequency=&#123;index=false, type=double&#125;, commitsFrequency=&#123;index=false, type=double&#125;, issuesDistribution=&#123;index=false, type=double&#125;, openIssues=&#123;index=false, type=double&#125;&#125;&#125;, quality=&#123;type=object, properties=&#123;tests=&#123;index=false, type=double&#125;, branding=&#123;index=false, type=double&#125;, health=&#123;index=false, type=double&#125;, carefulness=&#123;index=false, type=double&#125;&#125;&#125;&#125;&#125;, score=&#123;type=object, properties=&#123;final=&#123;type=double&#125;, detail=&#123;type=object, properties=&#123;popularity=&#123;type=double&#125;, maintenance=&#123;type=double&#125;, quality=&#123;type=double&#125;&#125;&#125;&#125;&#125;, package=&#123;type=object, properties=&#123;date=&#123;index=false, type=date&#125;, maintainers=&#123;type=object, properties=&#123;email=&#123;normalizer=raw, type=keyword&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, keywords=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;analyzer=raw, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, author=&#123;type=object, properties=&#123;name=&#123;normalizer=raw, type=keyword&#125;, email=&#123;normalizer=raw, type=keyword&#125;, url=&#123;index=false, type=text&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, scope=&#123;normalizer=raw, type=keyword&#125;, name=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, autocomplete=&#123;search_analyzer=package, analyzer=package_autocomplete, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;normalizer=raw, type=keyword&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, autocomplete_highlight=&#123;search_analyzer=package, analyzer=package_autocomplete_highlight, type=text, index_options=offsets&#125;, autocomplete_keyword=&#123;search_analyzer=package_autocomplete_keyword_search, analyzer=package_autocomplete_keyword, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, description=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, publisher=&#123;type=object, properties=&#123;email=&#123;index=false, type=text&#125;, username=&#123;index=false, type=text&#125;&#125;&#125;, links=&#123;type=object, properties=&#123;bugs=&#123;index=false, type=text&#125;, npm=&#123;index=false, type=text&#125;, repository=&#123;index=false, type=text&#125;, homepage=&#123;index=false, type=text&#125;&#125;&#125;, version=&#123;index=false, type=text&#125;&#125;&#125;, flags=&#123;type=object, properties=&#123;unstable=&#123;type=boolean&#125;, deprecated=&#123;type=text, index_options=docs&#125;, insecure=&#123;type=integer&#125;&#125;&#125;&#125;&#125;]&quot;,&quot;path&quot;:&quot;/npms-1574226087671&quot;,&quot;query&quot;:&#123;&#125;,&quot;body&quot;:&quot;&#123;\&quot;settings\&quot;:&#123;\&quot;number_of_shards\&quot;:1,\&quot;number_of_replicas\&quot;:0,\&quot;analysis\&quot;:&#123;\&quot;tokenizer\&quot;:&#123;\&quot;autocomplete\&quot;:&#123;\&quot;type\&quot;:\&quot;edgeNGram\&quot;,\&quot;min_gram\&quot;:\&quot;1\&quot;,\&quot;max_gram\&quot;:\&quot;15\&quot;,\&quot;token_chars\&quot;:[\&quot;letter\&quot;,\&quot;digit\&quot;]&#125;&#125;,\&quot;filter\&quot;:&#123;\&quot;non_alfanum_to_space\&quot;:&#123;\&quot;type\&quot;:\&quot;pattern_replace\&quot;,\&quot;pattern\&quot;:\&quot;(?i)[^a-z0-9]+\&quot;,\&quot;replacement\&quot;:\&quot; \&quot;&#125;,\&quot;split_word\&quot;:&#123;\&quot;type\&quot;:\&quot;word_delimiter\&quot;,\&quot;generate_word_parts\&quot;:true,\&quot;generate_number_parts\&quot;:true,\&quot;catenate_words\&quot;:false,\&quot;catenate_numbers\&quot;:false,\&quot;catenate_all\&quot;:false,\&quot;split_on_case_change\&quot;:true,\&quot;preserve_original\&quot;:true,\&quot;split_on_numerics\&quot;:true,\&quot;stem_english_possessive\&quot;:true&#125;,\&quot;edge_ngram\&quot;:&#123;\&quot;type\&quot;:\&quot;edgeNGram\&quot;,\&quot;min_gram\&quot;:\&quot;4\&quot;,\&quot;max_gram\&quot;:\&quot;15\&quot;&#125;,\&quot;autocomplete\&quot;:&#123;\&quot;type\&quot;:\&quot;edgeNGram\&quot;,\&quot;min_gram\&quot;:\&quot;1\&quot;,\&quot;max_gram\&quot;:\&quot;15\&quot;&#125;,\&quot;unique_on_same_position\&quot;:&#123;\&quot;type\&quot;:\&quot;unique\&quot;,\&quot;only_on_same_position\&quot;:false&#125;&#125;,\&quot;analyzer\&quot;:&#123;\&quot;package\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;standard\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;split_word\&quot;,\&quot;lowercase\&quot;,\&quot;unique_on_same_position\&quot;]&#125;,\&quot;package_english\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;standard\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;split_word\&quot;,\&quot;lowercase\&quot;,\&quot;kstem\&quot;,\&quot;unique_on_same_position\&quot;]&#125;,\&quot;package_english_aggressive\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;standard\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;split_word\&quot;,\&quot;lowercase\&quot;,\&quot;porter_stem\&quot;,\&quot;unique_on_same_position\&quot;]&#125;,\&quot;package_edge_ngram\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;standard\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;split_word\&quot;,\&quot;lowercase\&quot;,\&quot;edge_ngram\&quot;,\&quot;unique_on_same_position\&quot;]&#125;,\&quot;package_autocomplete\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;standard\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;split_word\&quot;,\&quot;lowercase\&quot;,\&quot;autocomplete\&quot;,\&quot;unique_on_same_position\&quot;]&#125;,\&quot;package_autocomplete_keyword\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;keyword\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;non_alfanum_to_space\&quot;,\&quot;lowercase\&quot;,\&quot;autocomplete\&quot;,\&quot;trim\&quot;,\&quot;unique_on_same_position\&quot;]&#125;,\&quot;package_autocomplete_keyword_search\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;keyword\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;non_alfanum_to_space\&quot;,\&quot;lowercase\&quot;,\&quot;trim\&quot;]&#125;,\&quot;package_autocomplete_highlight\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;autocomplete\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;non_alfanum_to_space\&quot;,\&quot;lowercase\&quot;,\&quot;trim\&quot;]&#125;,\&quot;raw\&quot;:&#123;\&quot;tokenizer\&quot;:\&quot;keyword\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;lowercase\&quot;,\&quot;trim\&quot;]&#125;&#125;,\&quot;normalizer\&quot;:&#123;\&quot;raw\&quot;:&#123;\&quot;type\&quot;:\&quot;custom\&quot;,\&quot;filter\&quot;:[\&quot;asciifolding\&quot;,\&quot;lowercase\&quot;,\&quot;trim\&quot;]&#125;&#125;&#125;&#125;,\&quot;mappings\&quot;:&#123;\&quot;score\&quot;:&#123;\&quot;dynamic\&quot;:false,\&quot;_all\&quot;:&#123;\&quot;enabled\&quot;:false&#125;,\&quot;properties\&quot;:&#123;\&quot;package\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;name\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;fields\&quot;:&#123;\&quot;standard\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;standard\&quot;&#125;,\&quot;english\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_english\&quot;&#125;,\&quot;english_aggressive\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_english_aggressive\&quot;&#125;,\&quot;edge_ngram\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_edge_ngram\&quot;,\&quot;search_analyzer\&quot;:\&quot;package\&quot;&#125;,\&quot;autocomplete\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_autocomplete\&quot;,\&quot;search_analyzer\&quot;:\&quot;package\&quot;&#125;,\&quot;autocomplete_highlight\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_autocomplete_highlight\&quot;,\&quot;search_analyzer\&quot;:\&quot;package\&quot;,\&quot;index_options\&quot;:\&quot;offsets\&quot;&#125;,\&quot;autocomplete_keyword\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_autocomplete_keyword\&quot;,\&quot;search_analyzer\&quot;:\&quot;package_autocomplete_keyword_search\&quot;&#125;,\&quot;raw\&quot;:&#123;\&quot;type\&quot;:\&quot;keyword\&quot;,\&quot;normalizer\&quot;:\&quot;raw\&quot;&#125;&#125;&#125;,\&quot;description\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;fields\&quot;:&#123;\&quot;standard\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;standard\&quot;&#125;,\&quot;english\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_english\&quot;&#125;,\&quot;english_aggressive\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_english_aggressive\&quot;&#125;,\&quot;edge_ngram\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_edge_ngram\&quot;,\&quot;search_analyzer\&quot;:\&quot;package\&quot;&#125;&#125;&#125;,\&quot;keywords\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;fields\&quot;:&#123;\&quot;standard\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;standard\&quot;&#125;,\&quot;english\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_english\&quot;&#125;,\&quot;english_aggressive\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_english_aggressive\&quot;&#125;,\&quot;edge_ngram\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;package_edge_ngram\&quot;,\&quot;search_analyzer\&quot;:\&quot;package\&quot;&#125;,\&quot;raw\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;analyzer\&quot;:\&quot;raw\&quot;&#125;&#125;&#125;,\&quot;version\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;,\&quot;date\&quot;:&#123;\&quot;type\&quot;:\&quot;date\&quot;,\&quot;index\&quot;:false&#125;,\&quot;links\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;npm\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;,\&quot;homepage\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;,\&quot;repository\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;,\&quot;bugs\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;&#125;&#125;,\&quot;author\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;name\&quot;:&#123;\&quot;type\&quot;:\&quot;keyword\&quot;,\&quot;normalizer\&quot;:\&quot;raw\&quot;&#125;,\&quot;username\&quot;:&#123;\&quot;type\&quot;:\&quot;keyword\&quot;,\&quot;normalizer\&quot;:\&quot;raw\&quot;&#125;,\&quot;email\&quot;:&#123;\&quot;type\&quot;:\&quot;keyword\&quot;,\&quot;normalizer\&quot;:\&quot;raw\&quot;&#125;,\&quot;url\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;&#125;&#125;,\&quot;publisher\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;username\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;,\&quot;email\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index\&quot;:false&#125;&#125;&#125;,\&quot;maintainers\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;username\&quot;:&#123;\&quot;type\&quot;:\&quot;keyword\&quot;,\&quot;normalizer\&quot;:\&quot;raw\&quot;&#125;,\&quot;email\&quot;:&#123;\&quot;type\&quot;:\&quot;keyword\&quot;,\&quot;normalizer\&quot;:\&quot;raw\&quot;&#125;&#125;&#125;,\&quot;scope\&quot;:&#123;\&quot;type\&quot;:\&quot;keyword\&quot;,\&quot;normalizer\&quot;:\&quot;raw\&quot;&#125;&#125;&#125;,\&quot;flags\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;deprecated\&quot;:&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;index_options\&quot;:\&quot;docs\&quot;&#125;,\&quot;insecure\&quot;:&#123;\&quot;type\&quot;:\&quot;integer\&quot;&#125;,\&quot;unstable\&quot;:&#123;\&quot;type\&quot;:\&quot;boolean\&quot;&#125;&#125;&#125;,\&quot;evaluation\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;quality\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;carefulness\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;tests\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;health\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;branding\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;&#125;&#125;,\&quot;popularity\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;communityInterest\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;downloadsCount\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;downloadsAcceleration\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;dependentsCount\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;&#125;&#125;,\&quot;maintenance\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;releasesFrequency\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;commitsFrequency\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;openIssues\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;,\&quot;issuesDistribution\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;,\&quot;index\&quot;:false&#125;&#125;&#125;&#125;&#125;,\&quot;score\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;final\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;&#125;,\&quot;detail\&quot;:&#123;\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:&#123;\&quot;quality\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;&#125;,\&quot;popularity\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;&#125;,\&quot;maintenance\&quot;:&#123;\&quot;type\&quot;:\&quot;double\&quot;&#125;&#125;&#125;&#125;&#125;&#125;&#125;&#125;&#125;&quot;,&quot;statusCode&quot;:400,&quot;response&quot;:&quot;&#123;\&quot;error\&quot;:&#123;\&quot;root_cause\&quot;:[&#123;\&quot;type\&quot;:\&quot;mapper_parsing_exception\&quot;,\&quot;reason\&quot;:\&quot;Root mapping definition has unsupported parameters:  [score : &#123;dynamic=false, _all=&#123;enabled=false&#125;, properties=&#123;evaluation=&#123;type=object, properties=&#123;popularity=&#123;type=object, properties=&#123;downloadsCount=&#123;index=false, type=double&#125;, dependentsCount=&#123;index=false, type=double&#125;, communityInterest=&#123;index=false, type=double&#125;, downloadsAcceleration=&#123;index=false, type=double&#125;&#125;&#125;, maintenance=&#123;type=object, properties=&#123;releasesFrequency=&#123;index=false, type=double&#125;, commitsFrequency=&#123;index=false, type=double&#125;, issuesDistribution=&#123;index=false, type=double&#125;, openIssues=&#123;index=false, type=double&#125;&#125;&#125;, quality=&#123;type=object, properties=&#123;tests=&#123;index=false, type=double&#125;, branding=&#123;index=false, type=double&#125;, health=&#123;index=false, type=double&#125;, carefulness=&#123;index=false, type=double&#125;&#125;&#125;&#125;&#125;, score=&#123;type=object, properties=&#123;final=&#123;type=double&#125;, detail=&#123;type=object, properties=&#123;popularity=&#123;type=double&#125;, maintenance=&#123;type=double&#125;, quality=&#123;type=double&#125;&#125;&#125;&#125;&#125;, package=&#123;type=object, properties=&#123;date=&#123;index=false, type=date&#125;, maintainers=&#123;type=object, properties=&#123;email=&#123;normalizer=raw, type=keyword&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, keywords=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;analyzer=raw, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, author=&#123;type=object, properties=&#123;name=&#123;normalizer=raw, type=keyword&#125;, email=&#123;normalizer=raw, type=keyword&#125;, url=&#123;index=false, type=text&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, scope=&#123;normalizer=raw, type=keyword&#125;, name=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, autocomplete=&#123;search_analyzer=package, analyzer=package_autocomplete, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;normalizer=raw, type=keyword&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, autocomplete_highlight=&#123;search_analyzer=package, analyzer=package_autocomplete_highlight, type=text, index_options=offsets&#125;, autocomplete_keyword=&#123;search_analyzer=package_autocomplete_keyword_search, analyzer=package_autocomplete_keyword, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, description=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, publisher=&#123;type=object, properties=&#123;email=&#123;index=false, type=text&#125;, username=&#123;index=false, type=text&#125;&#125;&#125;, links=&#123;type=object, properties=&#123;bugs=&#123;index=false, type=text&#125;, npm=&#123;index=false, type=text&#125;, repository=&#123;index=false, type=text&#125;, homepage=&#123;index=false, type=text&#125;&#125;&#125;, version=&#123;index=false, type=text&#125;&#125;&#125;, flags=&#123;type=object, properties=&#123;unstable=&#123;type=boolean&#125;, deprecated=&#123;type=text, index_options=docs&#125;, insecure=&#123;type=integer&#125;&#125;&#125;&#125;&#125;]\&quot;&#125;],\&quot;type\&quot;:\&quot;mapper_parsing_exception\&quot;,\&quot;reason\&quot;:\&quot;Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:  [score : &#123;dynamic=false, _all=&#123;enabled=false&#125;, properties=&#123;evaluation=&#123;type=object, properties=&#123;popularity=&#123;type=object, properties=&#123;downloadsCount=&#123;index=false, type=double&#125;, dependentsCount=&#123;index=false, type=double&#125;, communityInterest=&#123;index=false, type=double&#125;, downloadsAcceleration=&#123;index=false, type=double&#125;&#125;&#125;, maintenance=&#123;type=object, properties=&#123;releasesFrequency=&#123;index=false, type=double&#125;, commitsFrequency=&#123;index=false, type=double&#125;, issuesDistribution=&#123;index=false, type=double&#125;, openIssues=&#123;index=false, type=double&#125;&#125;&#125;, quality=&#123;type=object, properties=&#123;tests=&#123;index=false, type=double&#125;, branding=&#123;index=false, type=double&#125;, health=&#123;index=false, type=double&#125;, carefulness=&#123;index=false, type=double&#125;&#125;&#125;&#125;&#125;, score=&#123;type=object, properties=&#123;final=&#123;type=double&#125;, detail=&#123;type=object, properties=&#123;popularity=&#123;type=double&#125;, maintenance=&#123;type=double&#125;, quality=&#123;type=double&#125;&#125;&#125;&#125;&#125;, package=&#123;type=object, properties=&#123;date=&#123;index=false, type=date&#125;, maintainers=&#123;type=object, properties=&#123;email=&#123;normalizer=raw, type=keyword&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, keywords=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;analyzer=raw, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, author=&#123;type=object, properties=&#123;name=&#123;normalizer=raw, type=keyword&#125;, email=&#123;normalizer=raw, type=keyword&#125;, url=&#123;index=false, type=text&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, scope=&#123;normalizer=raw, type=keyword&#125;, name=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, autocomplete=&#123;search_analyzer=package, analyzer=package_autocomplete, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;normalizer=raw, type=keyword&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, autocomplete_highlight=&#123;search_analyzer=package, analyzer=package_autocomplete_highlight, type=text, index_options=offsets&#125;, autocomplete_keyword=&#123;search_analyzer=package_autocomplete_keyword_search, analyzer=package_autocomplete_keyword, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, description=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, publisher=&#123;type=object, properties=&#123;email=&#123;index=false, type=text&#125;, username=&#123;index=false, type=text&#125;&#125;&#125;, links=&#123;type=object, properties=&#123;bugs=&#123;index=false, type=text&#125;, npm=&#123;index=false, type=text&#125;, repository=&#123;index=false, type=text&#125;, homepage=&#123;index=false, type=text&#125;&#125;&#125;, version=&#123;index=false, type=text&#125;&#125;&#125;, flags=&#123;type=object, properties=&#123;unstable=&#123;type=boolean&#125;, deprecated=&#123;type=text, index_options=docs&#125;, insecure=&#123;type=integer&#125;&#125;&#125;&#125;&#125;]\&quot;,\&quot;caused_by\&quot;:&#123;\&quot;type\&quot;:\&quot;mapper_parsing_exception\&quot;,\&quot;reason\&quot;:\&quot;Root mapping definition has unsupported parameters:  [score : &#123;dynamic=false, _all=&#123;enabled=false&#125;, properties=&#123;evaluation=&#123;type=object, properties=&#123;popularity=&#123;type=object, properties=&#123;downloadsCount=&#123;index=false, type=double&#125;, dependentsCount=&#123;index=false, type=double&#125;, communityInterest=&#123;index=false, type=double&#125;, downloadsAcceleration=&#123;index=false, type=double&#125;&#125;&#125;, maintenance=&#123;type=object, properties=&#123;releasesFrequency=&#123;index=false, type=double&#125;, commitsFrequency=&#123;index=false, type=double&#125;, issuesDistribution=&#123;index=false, type=double&#125;, openIssues=&#123;index=false, type=double&#125;&#125;&#125;, quality=&#123;type=object, properties=&#123;tests=&#123;index=false, type=double&#125;, branding=&#123;index=false, type=double&#125;, health=&#123;index=false, type=double&#125;, carefulness=&#123;index=false, type=double&#125;&#125;&#125;&#125;&#125;, score=&#123;type=object, properties=&#123;final=&#123;type=double&#125;, detail=&#123;type=object, properties=&#123;popularity=&#123;type=double&#125;, maintenance=&#123;type=double&#125;, quality=&#123;type=double&#125;&#125;&#125;&#125;&#125;, package=&#123;type=object, properties=&#123;date=&#123;index=false, type=date&#125;, maintainers=&#123;type=object, properties=&#123;email=&#123;normalizer=raw, type=keyword&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, keywords=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;analyzer=raw, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, author=&#123;type=object, properties=&#123;name=&#123;normalizer=raw, type=keyword&#125;, email=&#123;normalizer=raw, type=keyword&#125;, url=&#123;index=false, type=text&#125;, username=&#123;normalizer=raw, type=keyword&#125;&#125;&#125;, scope=&#123;normalizer=raw, type=keyword&#125;, name=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, autocomplete=&#123;search_analyzer=package, analyzer=package_autocomplete, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, raw=&#123;normalizer=raw, type=keyword&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, autocomplete_highlight=&#123;search_analyzer=package, analyzer=package_autocomplete_highlight, type=text, index_options=offsets&#125;, autocomplete_keyword=&#123;search_analyzer=package_autocomplete_keyword_search, analyzer=package_autocomplete_keyword, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, description=&#123;type=text, fields=&#123;standard=&#123;analyzer=standard, type=text&#125;, english=&#123;analyzer=package_english, type=text&#125;, english_aggressive=&#123;analyzer=package_english_aggressive, type=text&#125;, edge_ngram=&#123;search_analyzer=package, analyzer=package_edge_ngram, type=text&#125;&#125;&#125;, publisher=&#123;type=object, properties=&#123;email=&#123;index=false, type=text&#125;, username=&#123;index=false, type=text&#125;&#125;&#125;, links=&#123;type=object, properties=&#123;bugs=&#123;index=false, type=text&#125;, npm=&#123;index=false, type=text&#125;, repository=&#123;index=false, type=text&#125;, homepage=&#123;index=false, type=text&#125;&#125;&#125;, version=&#123;index=false, type=text&#125;&#125;&#125;, flags=&#123;type=object, properties=&#123;unstable=&#123;type=boolean&#125;, deprecated=&#123;type=text, index_options=docs&#125;, insecure=&#123;type=integer&#125;&#125;&#125;&#125;&#125;]\&quot;&#125;&#125;,\&quot;status\&quot;:400&#125;&quot;&#125;,&quot;msg&quot;:&quot;Scoring cycle failed&quot;,&quot;v&quot;:1&#125;</span><br></pre></td></tr></table></figure>

<p>it shows failed.</p>
<p>Since couchDB alwasys down during my test. I think it must be something wrong with my couchDb, so I can not get my score.</p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/npm/" rel="tag"># npm</a>
            
              <a href="/tags/couchDB/" rel="tag"># couchDB</a>
            
              <a href="/tags/rabbitMQ/" rel="tag"># rabbitMQ</a>
            
              <a href="/tags/Elasticsearch/" rel="tag"># Elasticsearch</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/11/06/npm-analyzer-project-part-4/" rel="next" title="npm analyzer project: part 4">
                  <i class="fa fa-chevron-left"></i> npm analyzer project: part 4
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/11/19/Pwnagotchi-project/" rel="prev" title="Pwnagotchi project: Using Pwnagotchi image">
                  Pwnagotchi project: Using Pwnagotchi image <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
    
  <div class="comments" id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
  

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#config-the-npm-file"><span class="nav-number">1.</span> <span class="nav-text">config the npm file.</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#clone-the-github-npm-analyzer"><span class="nav-number">1.0.1.</span> <span class="nav-text">clone the github npm-analyzer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#copy-the-default-json-file-to-create-my-own-local-json5-file"><span class="nav-number">1.0.2.</span> <span class="nav-text">copy the default.json file to create my own local.json5 file</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#create-my-githubtoken-write-it-to-local-json5-file"><span class="nav-number">1.0.3.</span> <span class="nav-text">create my githubtoken, write it to local.json5 file</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#check-default-json-file"><span class="nav-number">1.0.4.</span> <span class="nav-text">check default.json file</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#npms-analyzer-observe"><span class="nav-number">2.</span> <span class="nav-text">npms-analyzer observe</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#npms-analyzer-consume"><span class="nav-number">3.</span> <span class="nav-text">npms-analyzer consume</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#npms-analyzer-scoring"><span class="nav-number">4.</span> <span class="nav-text">npms-analyzer scoring</span></a></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="https://avatars0.githubusercontent.com/u/34552097"
      alt="Anna X">
  <p class="site-author-name" itemprop="name">Anna X</p>
  <div class="site-description" itemprop="description">Happy coding ...</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/%20%7C%7C%20archive">
        
          <span class="site-state-item-count">49</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/%20%7C%7C%20tags">
          
        
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/vmnet8" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;vmnet8" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://www.linkedin.com/in/anna-x/" title="Linkedin &amp;rarr; https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;anna-x&#x2F;" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i>Linkedin</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:vmnet8@gmail.com" title="E-Mail &amp;rarr; mailto:vmnet8@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Anna X</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.0.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.4.1</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
  
    <span class="post-meta-divider">|</span>
  
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
  
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script>



  








  <script src="/js/local-search.js?v=7.4.1"></script>














  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://annax.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  function disqus_config() {
    this.page.url = "https://vmnet8.github.io/2019/11/07/npm-analyzer-project-part-5/";
    this.page.identifier = "2019/11/07/npm-analyzer-project-part-5/";
    this.page.title = 'npm analyzer project: part 5';};
  function loadComments() {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://annax.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  }
    window.addEventListener('load', loadComments, false);
  
</script>

</body>
</html>
